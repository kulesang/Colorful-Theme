import{u as b,r as h,o as C,c as o,b as e,k as u,t as n,F as v,x as p,e as m,f as $,i as r,y as f,d as I}from"./index-K3BHgUgf.js";import{e as L}from"./user-zboQRicx.js";import{_ as N}from"./_plugin-vue_export-helper-CwKUxaPK.js";import{U as T}from"./users-BEsCgkCe.js";import"./createLucideIcon-6IQhkzLg.js";const w={class:"dark-tech-servers animate-fade-in"},U={class:"page-header"},V={class:"server-grid"},M={class:"item-top"},O={class:"node-info"},x={class:"node-name"},B={class:"node-rate"},F={key:0,class:"item-tags"},H={class:"item-stats"},j={class:"stat-pill"},z={class:"item-action"},E={class:"protocol-chip"},J={key:0,class:"loading-state"},P={__name:"Servers",setup(A){const{t:D}=b(),c=h([]),l=h(!0),y={vless:"VLESS",vmess:"VMess",trojan:"Trojan",shadowsocks:"Shadowsocks",hysteria:"Hysteria",tuic:"TUIC",anytls:"AnyTLS",socks:"Socks",http:"HTTP",naive:"Naive",mieru:"Mieru"},g=s=>{var t;const i=(t=s.type)==null?void 0:t.toLowerCase();let a=y[i]||i||"Unknown";return i==="hysteria"&&s.version===2?a="Hysteria 2":i==="tuic"&&s.version?a=`TUIC v${s.version}`:s.version&&(a=`${a} v${s.version}`),a};C(()=>{S(),k()});const S=()=>{try{const s=localStorage.getItem("xboard_server_list");s&&(c.value=JSON.parse(s),l.value=!1)}catch(s){console.error("Servers cache load error:",s)}},k=async()=>{try{const s=await L();s.data&&(c.value=s.data,localStorage.setItem("xboard_server_list",JSON.stringify(s.data)))}catch{}finally{l.value=!1}};return(s,i)=>{const a=$("a-spin");return r(),o("div",w,[e("div",U,[e("h1",null,n(s.$t("dashboard.servers.title")),1),e("p",null,n(s.$t("dashboard.servers.description")),1)]),e("div",V,[(r(!0),o(v,null,p(c.value,t=>{var d;return r(),o("div",{key:t.id,class:f(["server-item glass-card",{offline:!t.is_online}])},[e("div",M,[e("div",O,[e("span",{class:f(["status-dot",{online:t.is_online}])},null,2),e("span",x,n(t.name),1)]),e("div",B,n(t.rate)+"x",1)]),(d=t.tags)!=null&&d.length?(r(),o("div",F,[(r(!0),o(v,null,p(t.tags,_=>(r(),o("span",{key:_,class:"n-tag"},n(_),1))),128))])):u("",!0),e("div",H,[e("div",j,[m(I(T),{size:14}),e("span",null,n(t.last_check_at?s.$t("dashboard.servers.statusOnline"):s.$t("dashboard.servers.statusOffline")),1)])]),e("div",z,[e("div",E,n(g(t)),1)])],2)}),128))]),l.value?(r(),o("div",J,[m(a)])):u("",!0)])}}},W=N(P,[["__scopeId","data-v-cbe42e57"]]);export{W as default};
