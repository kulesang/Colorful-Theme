import{u as b,b as h,f as C,h as o,i as e,n as u,t as n,F as v,x as p,k as m,l as $,o as i,z as f,j as I}from"./index-wd-hZkLN.js";import{j as L}from"./user-DW6XJAw8.js";import{_ as N}from"./_plugin-vue_export-helper-_GT-bmI3.js";import{U as T}from"./users-Be4JAKtz.js";import"./createLucideIcon-BcaHDl5-.js";const w={class:"dark-tech-servers animate-fade-in"},U={class:"page-header"},V={class:"server-grid"},j={class:"item-top"},M={class:"node-info"},O={class:"node-name"},x={class:"node-rate"},z={key:0,class:"item-tags"},B={class:"item-stats"},F={class:"stat-pill"},H={class:"item-action"},E={class:"protocol-chip"},J={key:0,class:"loading-state"},P={__name:"Servers",setup(A){const{t:D}=b(),c=h([]),l=h(!0),y={vless:"VLESS",vmess:"VMess",trojan:"Trojan",shadowsocks:"Shadowsocks",hysteria:"Hysteria",tuic:"TUIC",anytls:"AnyTLS",socks:"Socks",http:"HTTP",naive:"Naive",mieru:"Mieru"},g=s=>{var t;const r=(t=s.type)==null?void 0:t.toLowerCase();let a=y[r]||r||"Unknown";return r==="hysteria"&&s.version===2?a="Hysteria 2":r==="tuic"&&s.version?a=`TUIC v${s.version}`:s.version&&(a=`${a} v${s.version}`),a};C(()=>{S(),k()});const S=()=>{try{const s=localStorage.getItem("xboard_server_list");s&&(c.value=JSON.parse(s),l.value=!1)}catch(s){console.error("Servers cache load error:",s)}},k=async()=>{try{const s=await L();s.data&&(c.value=s.data,localStorage.setItem("xboard_server_list",JSON.stringify(s.data)))}catch{}finally{l.value=!1}};return(s,r)=>{const a=$("a-spin");return i(),o("div",w,[e("div",U,[e("h1",null,n(s.$t("dashboard.servers.title")),1),e("p",null,n(s.$t("dashboard.servers.description")),1)]),e("div",V,[(i(!0),o(v,null,p(c.value,t=>{var d;return i(),o("div",{key:t.id,class:f(["server-item glass-card",{offline:!t.is_online}])},[e("div",j,[e("div",M,[e("span",{class:f(["status-dot",{online:t.is_online}])},null,2),e("span",O,n(t.name),1)]),e("div",x,n(t.rate)+"x",1)]),(d=t.tags)!=null&&d.length?(i(),o("div",z,[(i(!0),o(v,null,p(t.tags,_=>(i(),o("span",{key:_,class:"n-tag"},n(_),1))),128))])):u("",!0),e("div",B,[e("div",F,[m(I(T),{size:14}),e("span",null,n(t.last_check_at?s.$t("dashboard.servers.statusOnline"):s.$t("dashboard.servers.statusOffline")),1)])]),e("div",H,[e("div",E,n(g(t)),1)])],2)}),128))]),l.value?(i(),o("div",J,[m(a)])):u("",!0)])}}},W=N(P,[["__scopeId","data-v-cbe42e57"]]);export{W as default};
