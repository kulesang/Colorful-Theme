import{z as f,b as T,u as V,A,e as j,c as r,v as D,f as $,h as P,i as d,j as a,l as s,w as c,m as v,k as e,g as R,t as h,F as M,y as z,n as F,o,B as I,a as _,r as y}from"./index-BHTMErf9.js";import{g as H}from"./user-CAmOVogg.js";import{S as J,L as q,a as E,M as K}from"./LanguageSwitcher-DLRdzG_g.js";import{C as G}from"./clipboard-list-Do1vRMhi.js";import{U as Q}from"./users-BuWGWSZW.js";import{B as W}from"./book-open-DJJ1ptXh.js";import{T as X}from"./ticket-DwJPQjVr.js";import{A as Y}from"./activity-D9xbdvtl.js";import{S as Z}from"./settings-VMNCDt5-.js";import{M as ee}from"./menu-Dcuo3zAS.js";import"./request-BDShSQSj.js";/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=f("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=f("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=f("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),se={class:"dark-tech-layout"},oe={class:"top-nav glass-card"},ne={class:"nav-container"},le={class:"nav-brand"},re=["src","alt"],ie={key:1,class:"brand-name"},ce={class:"nav-menu"},de=["onClick"],ue={class:"nav-actions"},he={class:"logout-text"},pe={class:"drawer-header"},me={class:"nav-brand"},_e=["src","alt"],ke={key:1,class:"brand-name"},ve={class:"drawer-menu"},ye=["onClick"],ge={class:"item-icon"},fe={class:"drawer-footer"},be={class:"main-stage"},we={__name:"MainLayout",setup(xe){const{t:n}=V(),i=R(),b=A(),k=F(),L=D(),p=j(!1),w=r(()=>L.name),U=l=>{k.push(l),p.value=!1},x=[{key:"Dashboard",label:r(()=>n("nav.dashboard")),icon:te,path:"/dashboard"},{key:"Servers",label:r(()=>n("nav.servers")),icon:J,path:"/servers"},{key:"Plans",label:r(()=>n("nav.buyPlans")),icon:ae,path:"/plans"},{key:"Orders",label:r(()=>n("nav.orders")),icon:G,path:"/orders"},{key:"Invitations",label:r(()=>n("nav.invitations")),icon:Q,path:"/invitations"},{key:"Knowledge",label:r(()=>n("nav.knowledge")),icon:W,path:"/knowledge"},{key:"Tickets",label:r(()=>n("nav.tickets")),icon:X,path:"/tickets"},{key:"Traffic",label:r(()=>n("nav.traffic")),icon:Y,path:"/traffic"},{key:"Settings",label:r(()=>n("nav.settings")),icon:Z,path:"/settings"}],C=$({email:""});P(async()=>{try{const l=await H();l.data&&(Object.assign(C,l.data),localStorage.setItem("xboard_user_info",JSON.stringify(l.data)))}catch{}});try{const l=localStorage.getItem("xboard_user_info");l&&Object.assign(C,JSON.parse(l))}catch{}const S=()=>{localStorage.removeItem("auth_token"),k.push("/login")};return(l,u)=>{const m=v("a-button"),N=v("a-drawer"),B=v("router-view");return o(),d("div",se,[a("header",oe,[a("div",ne,[a("div",le,[s(m,{type:"text",class:"mobile-menu-btn",onClick:u[0]||(u[0]=t=>p.value=!0)},{default:c(()=>[s(e(ee),{size:24})]),_:1}),e(i).logoUrl?(o(),d("img",{key:0,src:e(i).logoUrl,alt:e(i).siteName,class:"brand-logo-image"},null,8,re)):(o(),d("span",ie,h(e(i).siteName),1))]),a("nav",ce,[(o(),d(M,null,z(x,t=>a("a",{key:t.key,class:I(["nav-item",{active:w.value===t.key}]),onClick:O=>e(k).push(t.path)},[(o(),_(y(t.icon),{size:18})),a("span",null,h(t.label),1)],10,de)),64))]),a("div",ue,[s(m,{type:"text",class:"theme-toggle-btn",onClick:e(b).toggleTheme},{default:c(()=>[e(b).theme==="dark"?(o(),_(e(E),{key:0,size:20})):(o(),_(e(K),{key:1,size:20}))]),_:1},8,["onClick"]),s(q),s(m,{type:"text",class:"logout-link-btn",onClick:S},{default:c(()=>[s(e(g),{size:18}),a("span",he,h(e(n)("nav.logout")),1)]),_:1})])])]),s(N,{open:p.value,"onUpdate:open":u[2]||(u[2]=t=>p.value=t),placement:"left",closable:!1,class:"mobile-drawer",width:"280"},{footer:c(()=>[a("div",fe,[s(m,{type:"primary",block:"",onClick:S,class:"footer-logout-btn"},{default:c(()=>[s(e(g),{size:18}),a("span",null,h(e(n)("nav.logout")),1)]),_:1})])]),default:c(()=>[a("div",pe,[a("div",me,[e(i).logoUrl?(o(),d("img",{key:0,src:e(i).logoUrl,alt:e(i).siteName,class:"brand-logo-image"},null,8,_e)):(o(),d("span",ke,h(e(i).siteName),1))]),s(m,{type:"text",onClick:u[1]||(u[1]=t=>p.value=!1)},{default:c(()=>[s(e(g),{size:20,style:{transform:"rotate(180deg)"}})]),_:1})]),a("div",ve,[(o(),d(M,null,z(x,t=>a("a",{key:t.key,class:I(["drawer-item",{active:w.value===t.key}]),onClick:O=>U(t.path)},[a("div",ge,[(o(),_(y(t.icon),{size:20}))]),a("span",null,h(t.label),1)],10,ye)),64))])]),_:1},8,["open"]),a("main",be,[s(B,null,{default:c(({Component:t})=>[(o(),_(y(t)))]),_:1})])])}}},Ve=T(we,[["__scopeId","data-v-1d473d58"]]);export{Ve as default};
