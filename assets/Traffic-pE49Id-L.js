import{b as T,u as B,e as u,h as w,c as k,i as d,j as a,p as h,l as v,k as g,t as s,G as M,N as C,F as D,y as z,m as L,o as r,B as N}from"./index-CUYkGM1Q.js";import{C as F}from"./user-sf-dS7fE.js";import{A as V}from"./activity-Bp-zBECV.js";import"./request-CrJ_HLQ3.js";const A={class:"traffic-page"},S={class:"page-header"},U={class:"header-icon"},G={key:0,class:"traffic-table-card glass-card"},I={class:"table-header"},j={class:"filter-area"},E={value:""},K={value:"u"},R={value:"d"},q={class:"traffic-table"},H={class:"table-head"},J={class:"th"},O={class:"th"},P={class:"th"},Q={class:"th"},W={class:"th"},X={class:"table-body"},Y={class:"td"},Z={class:"td"},x={class:"td"},tt={class:"td"},at={class:"td traffic-amount"},st={key:1,class:"loading-state"},et={key:2,class:"empty-state"},ot={__name:"Traffic",setup(dt){const{t:_}=B(),c=u([]),n=u(!0),i=u("");w(async()=>{try{const t=await F();t.data&&(c.value=t.data)}catch{}finally{n.value=!1}});const p=k(()=>i.value?c.value.filter(t=>i.value==="u"?t.u>t.d:i.value==="d"?t.d>t.u:!0):c.value),l=t=>{if(t===0)return"0 B";const o=1024,f=["B","KB","MB","GB","TB"],e=Math.floor(Math.log(t)/Math.log(o));return parseFloat((t/Math.pow(o,e)).toFixed(2))+" "+f[e]},m=t=>t?new Date(t*1e3).toLocaleString("zh-CN"):"--",b=t=>t.u>t.d?_("dashboard.traffic.typeUpload"):_("dashboard.traffic.typeDownload"),y=t=>t.u>t.d?"upload":"download";return(t,o)=>{const f=L("a-spin");return r(),d("div",A,[a("div",S,[a("div",U,[v(g(V),{size:32})]),a("h1",null,s(t.$t("dashboard.traffic.title")),1),a("p",null,s(t.$t("dashboard.traffic.description")),1)]),n.value?h("",!0):(r(),d("div",G,[a("div",I,[a("h3",null,s(t.$t("dashboard.traffic.recordsTitle")),1),a("div",j,[M(a("select",{"onUpdate:modelValue":o[0]||(o[0]=e=>i.value=e),class:"filter-select"},[a("option",E,s(t.$t("dashboard.traffic.filterAll")),1),a("option",K,s(t.$t("dashboard.traffic.filterUpload")),1),a("option",R,s(t.$t("dashboard.traffic.filterDownload")),1)],512),[[C,i.value]])])]),a("div",q,[a("div",H,[a("div",J,s(t.$t("dashboard.traffic.time")),1),a("div",O,s(t.$t("dashboard.traffic.type")),1),a("div",P,s(t.$t("dashboard.traffic.upload")),1),a("div",Q,s(t.$t("dashboard.traffic.download")),1),a("div",W,s(t.$t("dashboard.traffic.total")),1)]),a("div",X,[(r(!0),d(D,null,z(p.value,(e,$)=>(r(),d("div",{key:$,class:"table-row"},[a("div",Y,s(m(e.record_at)),1),a("div",Z,[a("span",{class:N(["traffic-type",y(e)])},s(b(e)),3)]),a("div",x,s(l(e.u||0)),1),a("div",tt,s(l(e.d||0)),1),a("div",at,s(l((e.u||0)+(e.d||0))),1)]))),128))])])])),n.value?(r(),d("div",st,[v(f,{size:"large"})])):h("",!0),!n.value&&c.value.length===0?(r(),d("div",et,[o[1]||(o[1]=a("div",{class:"empty-icon"},"ðŸ“Š",-1)),a("p",null,s(t.$t("dashboard.traffic.noRecords")),1)])):h("",!0)])}}},lt=T(ot,[["__scopeId","data-v-6cc8d2a2"]]);export{lt as default};
