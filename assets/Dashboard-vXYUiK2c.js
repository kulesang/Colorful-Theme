import{A as de,u as we,s as Se,n as h,r as m,a as Ce,o as $e,g as xe,c as l,k,b as e,e as c,d as r,t,h as De,y as te,f as B,F as V,x as j,w as z,m as T,i,j as oe,l as Ne}from"./index-K3BHgUgf.js";import{a as Me,g as Oe,b as ze,c as Te,d as Re}from"./user-zboQRicx.js";import{d as ne,C as $,a as Ie}from"./marked.esm-CdqiJ-t6.js";import{_ as Le}from"./_plugin-vue_export-helper-CwKUxaPK.js";import{c as R}from"./createLucideIcon-6IQhkzLg.js";import{C as ie}from"./clock-Bn-mczaG.js";import{A as Ae}from"./activity-cdKz3w7P.js";import{R as Je}from"./refresh-cw-BgMNCkbC.js";import{Z as le}from"./zap-u_LPrnhj.js";import{C as qe}from"./copy-CSfNAGeK.js";/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=R("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=R("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=R("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=R("zap-off",[["path",{d:"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317",key:"193nxd"}],["path",{d:"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773",key:"27a7lr"}],["path",{d:"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643",key:"1e0qe9"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Fe={class:"dark-tech-dashboard"},Pe={key:0,class:"status-alerts animate-fade-in"},He={key:0,class:"alert-banner info"},Ee={class:"alert-content"},Qe={class:"alert-text"},Ue={class:"alert-title"},We={class:"alert-desc"},Xe={key:1,class:"alert-banner error"},Ze={class:"alert-content"},Ge={class:"alert-text"},Ye={class:"alert-title"},Ke={class:"alert-desc"},es={key:2,class:"alert-banner error"},ss={class:"alert-content"},as={class:"alert-text"},ts={class:"alert-title"},os={class:"alert-desc"},ns={key:3,class:"alert-banner warning"},is={class:"alert-content"},ls={class:"alert-text"},rs={class:"alert-title"},ds={class:"alert-desc"},cs={key:4,class:"alert-banner warning"},us={class:"alert-content"},hs={class:"alert-text"},vs={class:"alert-title"},ms={class:"alert-desc"},ps={class:"bento-grid"},_s={class:"subscription-hero glass-card bento-item lg:col-span-8"},bs={key:0,class:"hero-content"},fs={class:"user-meta"},gs={class:"user-titles"},ks={class:"greeting"},ys={class:"user-info-row"},ws={class:"plan-tag"},Ss={class:"c-text"},Cs={class:"metric-grid"},$s={class:"metric-item glass-card"},xs={class:"m-header"},Ds={class:"m-label"},Ns={class:"m-value"},Ms={key:0,class:"m-footer"},Os={class:"m-subtext"},zs={class:"metric-item glass-card"},Ts={class:"m-header"},Rs={class:"m-label"},Is={class:"m-value"},Ls={key:0,class:"m-footer"},As={class:"m-subtext"},Js={key:1,class:"m-footer"},qs={class:"m-subtext"},Bs={class:"metric-item glass-card highlight"},Vs={class:"m-header"},js={class:"m-label"},Fs={class:"m-value text-primary"},Ps={class:"m-footer"},Hs={class:"m-subtext"},Es={key:1,class:"hero-skeleton-wrap"},Qs={key:2,class:"hero-empty-state"},Us={class:"notification-wall glass-card bento-item lg:col-span-4"},Ws={class:"card-header"},Xs={key:0,class:"notice-list"},Zs=["onClick"],Gs={class:"n-body"},Ys={class:"n-title"},Ks={class:"n-time"},ea={key:1,class:"notice-empty"},sa={class:"subscribe-section glass-card bento-item lg:col-span-12"},aa={class:"sub-layout"},ta={class:"sub-left"},oa={class:"sub-section"},na={class:"link-input-group"},ia=["value"],la={class:"sub-section"},ra={class:"quick-icons"},da={class:"qr-code-box"},ca={class:"sub-right"},ua={class:"client-downloads"},ha=["href"],va=["src","alt"],ma={class:"dl-info"},pa={class:"dl-name"},_a={class:"dl-platform"},ba={class:"modal-title-custom"},fa={class:"title-icon"},ga={class:"title-text"},ka={class:"promo-card"},ya={class:"promo-header"},wa=["innerHTML"],Sa={class:"promo-body"},Ca={class:"promo-desc"},$a={key:0,class:"promo-code-box"},xa={class:"code-label"},Da={class:"code-val"},Na={key:0,class:"promo-action"},Ma=["innerHTML"],Oa={class:"notice-detail-footer"},za={class:"info-badge"},Ta={class:"checkin-modal-content"},Ra={class:"checkin-header"},Ia={class:"checkin-icon-wrap"},La={class:"checkin-title"},Aa={class:"checkin-subtitle"},Ja={class:"checkin-stats"},qa={class:"stat-card"},Ba={class:"stat-val"},Va={class:"stat-lab"},ja={key:0,class:"reward-box animate-bounce-in"},Fa={class:"reward-content"},Pa={class:"reward-info"},Ha={class:"reward-label"},Ea={class:"reward-value"},Qa={class:"checkin-actions"},Ua={components:{AQrcode:de}},Wa=Object.assign(Ua,{__name:"Dashboard",setup(Xa){ne.setOptions({breaks:!0,gfm:!0,headerIds:!0,mangle:!1});const y=De(),{t:u}=we(),ce=Se(),ue=h(()=>ce.theme==="dark"),F=xe(),o=m(JSON.parse(localStorage.getItem("xboard_subscribe_info")||"null")),x=Ce(JSON.parse(localStorage.getItem("xboard_user_info")||'{"email":""}')),D=m({}),N=m(JSON.parse(localStorage.getItem("xboard_notices")||"[]")),p=m(null),M=m(!1),I=m(!1),_=m(null),L=m(!1),A=m(!1),b=m(null),O=h(()=>!o.value||!o.value.plan_id),P=h(()=>!o.value||!o.value.expired_at||o.value.expired_at===0?!1:o.value.expired_at<Date.now()/1e3),J=h(()=>{var s;return!((s=o.value)!=null&&s.expired_at)||o.value.expired_at===0?0:Math.ceil((o.value.expired_at-Date.now()/1e3)/(24*3600))}),H=h(()=>J.value>0&&J.value<=3),q=h(()=>o.value?o.value.transfer_enable-(o.value.u+o.value.d)<=0:!1),E=h(()=>!o.value||q.value?!1:o.value.transfer_enable-(o.value.u+o.value.d)<1024*1024*1024),he=h(()=>{if(O.value)return u("dashboard.home.noPlan");if(!o.value||!o.value.expired_at)return u("dashboard.home.forever");const s=o.value.expired_at-Date.now()/1e3;return s<=0?u("dashboard.home.expired"):Math.ceil(s/(24*3600))+" "+u("dashboard.home.daysLaterResetShort")}),ve=h(()=>{if(O.value)return u("dashboard.home.noPlan");const s=o.value.reset_day;if(s!=null&&s!==0){const a=new Date,d=a.getDate(),g=new Date(a.getFullYear(),a.getMonth()+1,0).getDate();let S=0;return s>d?S=s-d:s===d?S=0:S=g-d+s,S+" "+u("dashboard.home.daysLaterResetShort")}return u("dashboard.home.forever")}),Q=h(()=>{if(!o.value||!o.value.plan_id)return"";const s=o.value.reset_day;return s!=null&&s!==0?u("dashboard.home.resetDayNumberedShort",{day:s}):""}),U=h(()=>{if(!o.value||!o.value.plan)return u("dashboard.home.trafficNoReset");const s=o.value.plan.reset_traffic_method;return u(s===0?"dashboard.home.trafficNoReset":s===1?"dashboard.home.trafficResetMonthly":s===2?"dashboard.home.trafficResetYearly":"dashboard.home.trafficReset")}),v=h(()=>{var s;if(!((s=p.value)!=null&&s.content))return null;try{const a=p.value.content.trim();if(a.startsWith("{")&&a.endsWith("}")){const d=JSON.parse(a);if(d&&d.cardComponent)return d}}catch{}return null}),me=h(()=>{var s;if(!((s=p.value)!=null&&s.content)||v.value)return"";try{return ne.parse(p.value.content)}catch(a){return console.error("Markdown parsing error:",a),p.value.content}}),pe=s=>{p.value=s,M.value=!0},_e=s=>{s&&(s.startsWith("http")?window.open(s,"_blank"):(y.push(s),M.value=!1))};$e(async()=>{o.value||(I.value=!0),await W(),F.enableDailyCheckin&&await be(),I.value=!1;try{const s=localStorage.getItem("xboard_client_config");s&&(D.value=JSON.parse(s));const d=await(await fetch("/clientConfig.json")).json();d.downloads&&(D.value=d.downloads,localStorage.setItem("xboard_client_config",JSON.stringify(d.downloads)))}catch{D.value={windows_android:{title:"Windows / Android",clients:[{name:"Clash Verge",platform:"Windows",icon:"https://github.com/dc8683/picx-images-hosting/raw/master/rocket/Clash.9gwri62wr1.webp",url:"https://clashverge.dev/"},{name:"Surfboard",platform:"Android",icon:"https://github.com/dc8683/picx-images-hosting/raw/master/rocket/Surfboard.8vn3vv8ggg.svg",url:"https://manual.getsurfboard.com/"}]},macos_ios:{title:"macOS / iOS",clients:[{name:"Clash Verge",platform:"macOS",icon:"https://github.com/dc8683/picx-images-hosting/raw/master/rocket/Clash.9gwri62wr1.webp",url:"https://clashverge.dev/"},{name:"Shadowrocket",platform:"iOS",icon:"https://github.com/dc8683/picx-images-hosting/raw/master/rocket/Shadowrocket.8z6ptl1j67.webp",url:"https://apps.apple.com/app/shadowrocket/id932747118"}]}}}});const W=async()=>{try{const[s,a,d]=await Promise.all([Me(),Oe(),ze()]);s.data&&JSON.stringify(s.data)!==JSON.stringify(o.value)&&(o.value=s.data,localStorage.setItem("xboard_subscribe_info",JSON.stringify(s.data))),a.data&&JSON.stringify(a.data)!==JSON.stringify(x)&&(Object.assign(x,a.data),localStorage.setItem("xboard_user_info",JSON.stringify(a.data))),d.data&&JSON.stringify(d.data)!==JSON.stringify(N.value)&&(N.value=d.data,localStorage.setItem("xboard_notices",JSON.stringify(d.data)))}catch{}},be=async()=>{try{const s=await Te();s.data&&(_.value=s.data,s.data.checked_in_today&&(s.data.reward_type==="traffic"?b.value={type:"traffic",value:s.data.reward_traffic,unit:"MB"}:s.data.reward_type==="days"&&(b.value={type:"days",value:s.data.reward_days,unit:u("dashboard.home.checkinDays")})))}catch(s){console.error("Fetch checkin status error:",s)}},fe=()=>{L.value=!0},ge=async()=>{var s;if(!((s=_.value)!=null&&s.checked_in_today)){A.value=!0;try{const a=await Re();a.data&&(_.value={checked_in_today:!0,streak_days:a.data.streak_days,reward_type:a.data.reward_type,reward_traffic:a.data.reward_traffic,reward_days:a.data.reward_days},a.data.reward_type==="traffic"?b.value={type:"traffic",value:a.data.reward_traffic,unit:"MB"}:b.value={type:"days",value:a.data.reward_days,unit:u("dashboard.home.checkinDays")},T.success(u("dashboard.home.checkinSuccess")),await W())}catch{}finally{A.value=!1}}},ke=s=>!s||s<=0?"0 GB":(s/1024**3).toFixed(2)+" GB",ye=()=>{var s;(s=o.value)!=null&&s.subscribe_url&&(navigator.clipboard.writeText(o.value.subscribe_url),T.success(u("dashboard.home.copySuccess")))},w=s=>{var g;if(!((g=o.value)!=null&&g.subscribe_url)){T.warning(u("dashboard.home.linkNotReady"));return}const a=encodeURIComponent(o.value.subscribe_url),d={clash:`clash://install-config?url=${a}`,shadowrocket:`shadowrocket://add/sub://${btoa(o.value.subscribe_url)}?remarks=${encodeURIComponent(x.email||"Xboard")}`,"quantumult-x":`quantumult-x:///add-resource?remote-resource=%7B%22server_remote%22:%5B%22${a},tag=Xboard%22%5D%7D`,singbox:`sing-box://import-remote-profile?url=${a}`,surfboard:`surfboard:///install-config?url=${a}`,surge:`surge:///install-config?url=${a}`};d[s]&&(window.location.href=d[s],T.success(u("dashboard.home.jumpingToClient")))};return(s,a)=>{var X,Z,G,Y,K,ee,se;const d=B("a-skeleton"),g=B("a-modal"),S=B("a-button");return i(),l("div",Fe,[O.value||P.value||q.value||H.value||E.value?(i(),l("div",Pe,[O.value?(i(),l("div",He,[e("div",Ee,[c(r(Be),{size:20,class:"alert-icon"}),e("div",Qe,[e("span",Ue,t(s.$t("dashboard.home.noSubscriptionTitle")),1),e("span",We,t(s.$t("dashboard.home.noSubscriptionDesc")),1)])]),e("button",{class:"alert-action",onClick:a[0]||(a[0]=n=>r(y).push("/plans"))},t(s.$t("dashboard.home.buyPlan")),1)])):P.value?(i(),l("div",Xe,[e("div",Ze,[c(r(ie),{size:20,class:"alert-icon"}),e("div",Ge,[e("span",Ye,t(s.$t("dashboard.home.planExpiredTitle")),1),e("span",Ke,t(s.$t("dashboard.home.planExpiredDesc")),1)])]),e("button",{class:"alert-action",onClick:a[1]||(a[1]=n=>r(y).push("/plans"))},t(s.$t("dashboard.home.renewPlan")),1)])):q.value?(i(),l("div",es,[e("div",ss,[c(r(je),{size:20,class:"alert-icon"}),e("div",as,[e("span",ts,t(s.$t("dashboard.home.trafficOutTitle")),1),e("span",os,t(s.$t("dashboard.home.trafficOutDesc")),1)])]),e("button",{class:"alert-action",onClick:a[2]||(a[2]=n=>r(y).push("/plans"))},t(s.$t("dashboard.home.resetTraffic")),1)])):H.value?(i(),l("div",ns,[e("div",is,[c(r(ie),{size:20,class:"alert-icon"}),e("div",ls,[e("span",rs,t(s.$t("dashboard.home.expiringSoonTitle")),1),e("span",ds,t(s.$t("dashboard.home.expiringSoonDesc",{days:J.value})),1)])]),e("button",{class:"alert-action",onClick:a[3]||(a[3]=n=>r(y).push("/plans"))},t(s.$t("dashboard.home.renewPlan")),1)])):E.value?(i(),l("div",cs,[e("div",us,[c(r(Ve),{size:20,class:"alert-icon"}),e("div",hs,[e("span",vs,t(s.$t("dashboard.home.trafficLowTitle")),1),e("span",ms,t(s.$t("dashboard.home.trafficLowDesc")),1)])]),e("button",{class:"alert-action",onClick:a[4]||(a[4]=n=>r(y).push("/plans"))},t(s.$t("dashboard.home.renewPlan")),1)])):k("",!0)])):k("",!0),e("div",ps,[e("div",_s,[a[15]||(a[15]=e("div",{class:"mesh-glow"},null,-1)),o.value?(i(),l("div",bs,[e("div",fs,[e("div",gs,[e("span",ks,t(s.$t("dashboard.home.greeting",{name:((X=x.email)==null?void 0:X.split("@")[0])||"User"})),1),e("div",ys,[e("div",ws,[c(r(Ae),{size:14}),e("span",null,t(((Z=o.value.plan)==null?void 0:Z.name)||s.$t("dashboard.home.noPlan")),1)]),r(F).enableDailyCheckin?(i(),l("div",{key:0,class:te(["checkin-badge-new",{checked:(G=_.value)==null?void 0:G.checked_in_today}]),onClick:fe},[a[14]||(a[14]=e("div",{class:"shine-effect"},null,-1)),c(r($),{size:14,class:"c-icon"}),e("span",Ss,t((Y=_.value)!=null&&Y.checked_in_today?s.$t("dashboard.home.alreadyCheckin"):s.$t("dashboard.home.checkinNow")),1)],2)):k("",!0)])])]),e("div",Cs,[e("div",$s,[e("div",xs,[c(r($),{size:18,class:"text-accent-purple"}),e("span",Ds,t(s.$t("dashboard.home.expireTime")),1)]),e("span",Ns,t(he.value),1),o.value.expired_at?(i(),l("div",Ms,[e("span",Os,t(new Date(o.value.expired_at*1e3).toLocaleDateString()),1)])):k("",!0)]),e("div",zs,[e("div",Ts,[c(r(Je),{size:18,class:"text-accent-blue"}),e("span",Rs,t(s.$t("dashboard.home.resetTime")),1)]),e("span",Is,t(ve.value),1),Q.value?(i(),l("div",Ls,[e("span",As,t(Q.value)+" | "+t(U.value),1)])):(i(),l("div",Js,[e("span",qs,t(U.value),1)]))]),e("div",Bs,[e("div",Vs,[c(r(le),{size:18,class:"text-primary"}),e("span",js,t(s.$t("dashboard.home.remainingTraffic")),1)]),e("span",Fs,t(ke(o.value.transfer_enable-(o.value.u+o.value.d))),1),e("div",Ps,[e("span",Hs,t(s.$t("dashboard.home.availableQuota")),1)])])])])):I.value&&!o.value?(i(),l("div",Es,[c(d,{active:"",paragraph:{rows:3}})])):(i(),l("div",Qs,[e("span",null,t(s.$t("dashboard.home.noDataAvailable")),1)]))]),e("div",Us,[e("div",Ws,[c(r(re),{size:18}),e("h3",null,t(s.$t("dashboard.home.importantNotices")),1)]),N.value.length>0?(i(),l("div",Xs,[(i(!0),l(V,null,j(N.value,n=>(i(),l("div",{class:"notice-item",key:n.id,onClick:C=>pe(n)},[a[16]||(a[16]=e("div",{class:"n-icon"},"ðŸ“Œ",-1)),e("div",Gs,[e("span",Ys,t(n.title),1),e("span",Ks,t(new Date(n.created_at*1e3).toLocaleDateString()),1)]),c(r(Ie),{size:16,class:"n-arrow"})],8,Zs))),128))])):(i(),l("div",ea,[e("span",null,t(s.$t("dashboard.home.noNotices")),1)]))]),e("div",sa,[e("div",aa,[e("div",ta,[e("div",oa,[e("h4",null,t(s.$t("dashboard.home.subscribeLink")),1),e("div",na,[e("input",{readonly:"",value:((K=o.value)==null?void 0:K.subscribe_url)||"https://link.example.com/...",class:"link-input"},null,8,ia),e("button",{onClick:ye,class:"copy-btn"},[c(r(qe),{size:16})])])]),e("div",la,[e("h4",null,t(s.$t("dashboard.home.oneClickImport")),1),e("div",ra,[e("div",{class:"import-item",onClick:a[5]||(a[5]=n=>w("clash"))},[...a[17]||(a[17]=[e("div",{class:"q-icon",title:"Clash"},[e("img",{src:"https://github.com/dc8683/picx-images-hosting/raw/master/rocket/Clash.9gwri62wr1.webp",alt:"Clash"})],-1),e("span",null,"Clash",-1)])]),e("div",{class:"import-item",onClick:a[6]||(a[6]=n=>w("shadowrocket"))},[...a[18]||(a[18]=[e("div",{class:"q-icon",title:"Shadowrocket"},[e("img",{src:"https://github.com/dc8683/picx-images-hosting/raw/master/rocket/Shadowrocket.8z6ptl1j67.webp",alt:"Shadowrocket"})],-1),e("span",null,"Shadowrocket",-1)])]),e("div",{class:"import-item",onClick:a[7]||(a[7]=n=>w("singbox"))},[...a[19]||(a[19]=[e("div",{class:"q-icon",title:"Singbox"},[e("img",{src:"https://github.com/dc8683/picx-images-hosting/raw/master/rocket/Singbox.espc7ryvj.svg",alt:"Singbox"})],-1),e("span",null,"Singbox",-1)])]),e("div",{class:"import-item",onClick:a[8]||(a[8]=n=>w("surfboard"))},[...a[20]||(a[20]=[e("div",{class:"q-icon",title:"Surfboard"},[e("img",{src:"https://github.com/dc8683/picx-images-hosting/raw/master/rocket/Surfboard.8vn3vv8ggg.svg",alt:"Surfboard"})],-1),e("span",null,"Surfboard",-1)])]),e("div",{class:"import-item",onClick:a[9]||(a[9]=n=>w("surge"))},[...a[21]||(a[21]=[e("div",{class:"q-icon",title:"Surge"},[e("img",{src:"https://github.com/dc8683/picx-images-hosting/raw/master/rocket/Surge.8s3hy5fdqo.svg",alt:"Surge"})],-1),e("span",null,"Surge",-1)])]),e("div",{class:"import-item",onClick:a[10]||(a[10]=n=>w("quantumult-x"))},[...a[22]||(a[22]=[e("div",{class:"q-icon",title:"Quantumult X"},[e("img",{src:"https://github.com/dc8683/picx-images-hosting/raw/master/rocket/Quantumult.102cyimf66.webp",alt:"Quantumult X"})],-1),e("span",null,"Quantumult X",-1)])]),e("div",da,[c(r(de),{value:((ee=o.value)==null?void 0:ee.subscribe_url)||"https://xboard.link/placeholder",size:88,color:ue.value?"#F9FAFB":"#1E293B","bg-color":"transparent",status:(se=o.value)!=null&&se.subscribe_url?"active":"loading"},null,8,["value","color","status"]),e("p",null,t(s.$t("dashboard.home.scanToImport")),1)])])])]),e("div",ca,[e("h4",null,t(s.$t("dashboard.home.clientDownload")),1),e("div",ua,[(i(!0),l(V,null,j(D.value,(n,C)=>(i(),l("div",{key:C,class:"platform-group"},[(i(!0),l(V,null,j(n.clients,f=>(i(),l("a",{key:f.name,href:f.url,target:"_blank",class:"download-link"},[e("img",{src:f.icon,alt:f.name},null,8,va),e("div",ma,[e("span",pa,t(f.name),1),e("span",_a,t(f.platform),1)])],8,ha))),128))]))),128))])])])])]),c(g,{visible:M.value,"onUpdate:visible":a[12]||(a[12]=n=>M.value=n),footer:null,width:650,class:"notice-modal",centered:""},{title:z(()=>{var n;return[e("div",ba,[e("div",fa,[c(r(re),{size:18})]),e("span",ga,t((n=p.value)==null?void 0:n.title),1)])]}),default:z(()=>{var n;return[a[23]||(a[23]=e("div",{class:"modal-mesh"},null,-1)),v.value?(i(),l("div",{key:0,class:te(["promo-card-wrapper",v.value.theme||"default"])},[e("div",ka,[e("div",ya,[e("h2",{class:"promo-title",innerHTML:(n=v.value.title)==null?void 0:n.replace(/\\n/g,"<br>")},null,8,wa)]),e("div",Sa,[e("p",Ca,t(v.value.content),1),v.value.code?(i(),l("div",$a,[e("span",xa,t(s.$t("dashboard.home.recommendCode")),1),e("span",Da,t(v.value.code),1)])):k("",!0)]),v.value.btnText?(i(),l("div",Na,[e("button",{class:"promo-btn",onClick:a[11]||(a[11]=C=>_e(v.value.btnRoute))},t(v.value.btnText),1)])):k("",!0)])],2)):(i(),l("div",{key:1,class:"notice-detail-content markdown-body",innerHTML:me.value},null,8,Ma)),e("div",Oa,[e("div",za,[c(r($),{size:12}),e("span",null,t(p.value?new Date(p.value.created_at*1e3).toLocaleString():""),1)])])]}),_:1},8,["visible"]),c(g,{visible:L.value,"onUpdate:visible":a[13]||(a[13]=n=>L.value=n),footer:null,width:420,class:"checkin-modal",centered:""},{default:z(()=>{var n,C,f;return[e("div",Ta,[e("div",Ra,[e("div",Ia,[a[24]||(a[24]=e("div",{class:"ripple"},null,-1)),c(r($),{size:48,class:"main-icon"})]),e("h2",La,t((n=_.value)!=null&&n.checked_in_today?s.$t("dashboard.home.checkinSuccess"):s.$t("dashboard.home.dailyCheckin")),1),e("p",Aa,t(s.$t("dashboard.home.checkinRulesDesc")),1)]),e("div",Ja,[e("div",qa,[e("span",Ba,t(((C=_.value)==null?void 0:C.streak_days)||0),1),e("span",Va,t(s.$t("dashboard.home.consecutiveDays")),1)])]),b.value?(i(),l("div",ja,[e("div",Fa,[b.value.type==="traffic"?(i(),oe(r(le),{key:0,size:24,class:"reward-icon traffic"})):(i(),oe(r($),{key:1,size:24,class:"reward-icon days"})),e("div",Pa,[e("span",Ha,t(b.value.type==="traffic"?s.$t("dashboard.home.trafficReward"):s.$t("dashboard.home.dayReward")),1),e("span",Ea,"+"+t(b.value.value)+" "+t(b.value.unit),1)])])])):k("",!0),e("div",Qa,[c(S,{type:"primary",block:"",size:"large",class:"do-checkin-btn",loading:A.value,disabled:(f=_.value)==null?void 0:f.checked_in_today,onClick:ge},{default:z(()=>{var ae;return[Ne(t((ae=_.value)!=null&&ae.checked_in_today?s.$t("dashboard.home.alreadyCheckin"):s.$t("dashboard.home.checkinNow")),1)]}),_:1},8,["loading","disabled"])])])]}),_:1},8,["visible"])])}}}),it=Le(Wa,[["__scopeId","data-v-830b147f"]]);export{it as default};
