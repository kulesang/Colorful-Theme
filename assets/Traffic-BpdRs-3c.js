import{u as T,r as u,o as B,n as w,c as r,b as a,k as h,e as v,d as k,t as s,B as g,D,F as M,x as z,f as C,i as d,y as L}from"./index-K3BHgUgf.js";import{x as F}from"./user-zboQRicx.js";import{_ as N}from"./_plugin-vue_export-helper-CwKUxaPK.js";import{A as V}from"./activity-cdKz3w7P.js";import"./createLucideIcon-6IQhkzLg.js";const A={class:"traffic-page"},S={class:"page-header"},U={class:"header-icon"},I={key:0,class:"traffic-table-card glass-card"},E={class:"table-header"},G={class:"filter-area"},K={value:""},R={value:"u"},j={value:"d"},q={class:"traffic-table"},H={class:"table-head"},J={class:"th"},O={class:"th"},P={class:"th"},Q={class:"th"},W={class:"th"},X={class:"table-body"},Y={class:"td"},Z={class:"td"},x={class:"td"},tt={class:"td"},at={class:"td traffic-amount"},st={key:1,class:"loading-state"},et={key:2,class:"empty-state"},ot={__name:"Traffic",setup(rt){const{t:_}=T(),c=u([]),n=u(!0),i=u("");B(async()=>{try{const t=await F();t.data&&(c.value=t.data)}catch{}finally{n.value=!1}});const p=w(()=>i.value?c.value.filter(t=>i.value==="u"?t.u>t.d:i.value==="d"?t.d>t.u:!0):c.value),l=t=>{if(t===0)return"0 B";const o=1024,f=["B","KB","MB","GB","TB"],e=Math.floor(Math.log(t)/Math.log(o));return parseFloat((t/Math.pow(o,e)).toFixed(2))+" "+f[e]},m=t=>t?new Date(t*1e3).toLocaleString("zh-CN"):"--",b=t=>t.u>t.d?_("dashboard.traffic.typeUpload"):_("dashboard.traffic.typeDownload"),y=t=>t.u>t.d?"upload":"download";return(t,o)=>{const f=C("a-spin");return d(),r("div",A,[a("div",S,[a("div",U,[v(k(V),{size:32})]),a("h1",null,s(t.$t("dashboard.traffic.title")),1),a("p",null,s(t.$t("dashboard.traffic.description")),1)]),n.value?h("",!0):(d(),r("div",I,[a("div",E,[a("h3",null,s(t.$t("dashboard.traffic.recordsTitle")),1),a("div",G,[g(a("select",{"onUpdate:modelValue":o[0]||(o[0]=e=>i.value=e),class:"filter-select"},[a("option",K,s(t.$t("dashboard.traffic.filterAll")),1),a("option",R,s(t.$t("dashboard.traffic.filterUpload")),1),a("option",j,s(t.$t("dashboard.traffic.filterDownload")),1)],512),[[D,i.value]])])]),a("div",q,[a("div",H,[a("div",J,s(t.$t("dashboard.traffic.time")),1),a("div",O,s(t.$t("dashboard.traffic.type")),1),a("div",P,s(t.$t("dashboard.traffic.upload")),1),a("div",Q,s(t.$t("dashboard.traffic.download")),1),a("div",W,s(t.$t("dashboard.traffic.total")),1)]),a("div",X,[(d(!0),r(M,null,z(p.value,(e,$)=>(d(),r("div",{key:$,class:"table-row"},[a("div",Y,s(m(e.record_at)),1),a("div",Z,[a("span",{class:L(["traffic-type",y(e)])},s(b(e)),3)]),a("div",x,s(l(e.u||0)),1),a("div",tt,s(l(e.d||0)),1),a("div",at,s(l((e.u||0)+(e.d||0))),1)]))),128))])])])),n.value?(d(),r("div",st,[v(f,{size:"large"})])):h("",!0),!n.value&&c.value.length===0?(d(),r("div",et,[o[1]||(o[1]=a("div",{class:"empty-icon"},"ðŸ“Š",-1)),a("p",null,s(t.$t("dashboard.traffic.noRecords")),1)])):h("",!0)])}}},ft=N(ot,[["__scopeId","data-v-6cc8d2a2"]]);export{ft as default};
