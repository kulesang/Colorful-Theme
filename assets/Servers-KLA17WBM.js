import{b,u as C,e as h,h as $,i as o,j as e,p as u,t as n,F as v,y as p,l as m,m as I,o as i,B as f,k as L}from"./index-CZXcYpKr.js";import{m as N}from"./user-3vjAw0ht.js";import{U as T}from"./users-mHGyJF2z.js";import"./request-9342X4w-.js";const w={class:"dark-tech-servers animate-fade-in"},U={class:"page-header"},V={class:"server-grid"},B={class:"item-top"},M={class:"node-info"},O={class:"node-name"},j={class:"node-rate"},F={key:0,class:"item-tags"},H={class:"item-stats"},x={class:"stat-pill"},z={class:"item-action"},E={class:"protocol-chip"},J={key:0,class:"loading-state"},P={__name:"Servers",setup(A){const{t:D}=C(),c=h([]),l=h(!0),y={vless:"VLESS",vmess:"VMess",trojan:"Trojan",shadowsocks:"Shadowsocks",hysteria:"Hysteria",tuic:"TUIC",anytls:"AnyTLS",socks:"Socks",http:"HTTP",naive:"Naive",mieru:"Mieru"},g=s=>{var t;const r=(t=s.type)==null?void 0:t.toLowerCase();let a=y[r]||r||"Unknown";return r==="hysteria"&&s.version===2?a="Hysteria 2":r==="tuic"&&s.version?a=`TUIC v${s.version}`:s.version&&(a=`${a} v${s.version}`),a};$(()=>{S(),k()});const S=()=>{try{const s=localStorage.getItem("xboard_server_list");s&&(c.value=JSON.parse(s),l.value=!1)}catch(s){console.error("Servers cache load error:",s)}},k=async()=>{try{const s=await N();s.data&&(c.value=s.data,localStorage.setItem("xboard_server_list",JSON.stringify(s.data)))}catch{}finally{l.value=!1}};return(s,r)=>{const a=I("a-spin");return i(),o("div",w,[e("div",U,[e("h1",null,n(s.$t("dashboard.servers.title")),1),e("p",null,n(s.$t("dashboard.servers.description")),1)]),e("div",V,[(i(!0),o(v,null,p(c.value,t=>{var d;return i(),o("div",{key:t.id,class:f(["server-item glass-card",{offline:!t.is_online}])},[e("div",B,[e("div",M,[e("span",{class:f(["status-dot",{online:t.is_online}])},null,2),e("span",O,n(t.name),1)]),e("div",j,n(t.rate)+"x",1)]),(d=t.tags)!=null&&d.length?(i(),o("div",F,[(i(!0),o(v,null,p(t.tags,_=>(i(),o("span",{key:_,class:"n-tag"},n(_),1))),128))])):u("",!0),e("div",H,[e("div",x,[m(L(T),{size:14}),e("span",null,n(t.last_check_at?s.$t("dashboard.servers.statusOnline"):s.$t("dashboard.servers.statusOffline")),1)])]),e("div",z,[e("div",E,n(g(t)),1)])],2)}),128))]),l.value?(i(),o("div",J,[m(a)])):u("",!0)])}}},R=b(P,[["__scopeId","data-v-b6aff444"]]);export{R as default};
